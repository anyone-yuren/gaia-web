<!DOCTYPE html>
<html lang="zh-cn">
<head prefix="og: http://ogp.me/ns#"><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <title>模块中的高级写法 | 慧政通 - 住建厅-行政审批平台前端开发文档</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="http://192.168.169.57/ue/code/public/docs/guide/senior.html">
  <!-- Alternative links -->
  
    
    <link rel="alternative" hreflang="zh-cn" href="http://192.168.169.57/ue/code/public/docs/guide/senior.html">
    
    <link rel="alternative" hreflang="en" href="http://192.168.169.57/ue/code/public/en/docs/guide/senior.html">
    
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/public/img/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/public/img/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/public/img/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/public/img/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/public/img/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/public/img/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/public/img/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/public/img/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/public/img/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/public/img/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/public/img/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/public/img/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/public/img/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/public/img/mstile-144x144.png">
  <!-- CSS -->
  <!-- build:css css/dist.style.css -->
  <link rel="stylesheet" href="/public/css/navy.css">
  <!-- endbuild -->
  <!-- RSS -->
  <link rel="alternate" href="/public/atom.xml" title="慧政通 - 住建厅-行政审批平台前端开发文档">
  <!-- Open Graph -->
  <meta name="description" content="在项目开发中，模块的写法，往往是不可能像上文模块的js编写那么简单，而且页面经常还包括二级页面（类似弹窗详情、修改之类）。如何做到更好的去管理模块功能之前的代码？我觉得这是门艺术，并不是我所规定的规范。所以，以下只是一中idea。可以借鉴。更多的是靠自己怎么取组织与构建。 重点本篇将重点围绕：模块代码解耦、模块代码复用、模块代码如何提取与分离、模块的桥接，代理模式的运用做介绍 模块代码解耦我们先看">
<meta property="og:type" content="website">
<meta property="og:title" content="模块中的高级写法">
<meta property="og:url" content="http://192.168.169.57/ue/code/public/docs/guide/senior.html">
<meta property="og:site_name" content="慧政通 - 住建厅-行政审批平台前端开发文档">
<meta property="og:description" content="在项目开发中，模块的写法，往往是不可能像上文模块的js编写那么简单，而且页面经常还包括二级页面（类似弹窗详情、修改之类）。如何做到更好的去管理模块功能之前的代码？我觉得这是门艺术，并不是我所规定的规范。所以，以下只是一中idea。可以借鉴。更多的是靠自己怎么取组织与构建。 重点本篇将重点围绕：模块代码解耦、模块代码复用、模块代码如何提取与分离、模块的桥接，代理模式的运用做介绍 模块代码解耦我们先看">
<meta property="og:locale" content="zh-cn">
<meta property="og:image" content="https://thumbnail10.baidupcs.com/thumbnail/ebb3202d19f648d078fcedcb660b97cb?fid=1117135785-250528-185447622760946&rt=pr&sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-vtjPX2Gu6SGGyAZXViGK9ZzEDu4%3d&expires=8h&chkbd=0&chkv=0&dp-logid=2028414447996841840&dp-callid=0&time=1553828400&size=c1920_u1080&quality=90&vuk=1117135785&ft=image&autopolicy=1">
<meta property="og:image" content="https://thumbnail10.baidupcs.com/thumbnail/5479d87570eae060ce49d23bd5a6c61a?fid=1117135785-250528-1077374451345446&rt=pr&sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-DPM%2fjc337FdjLupcGLSVWhOtO%2f0%3d&expires=8h&chkbd=0&chkv=0&dp-logid=2074212011150021843&dp-callid=0&time=1553997600&size=c1920_u1080&quality=90&vuk=1117135785&ft=image&autopolicy=1">
<meta property="og:updated_time" content="2019-03-31T03:11:37.497Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="模块中的高级写法">
<meta name="twitter:description" content="在项目开发中，模块的写法，往往是不可能像上文模块的js编写那么简单，而且页面经常还包括二级页面（类似弹窗详情、修改之类）。如何做到更好的去管理模块功能之前的代码？我觉得这是门艺术，并不是我所规定的规范。所以，以下只是一中idea。可以借鉴。更多的是靠自己怎么取组织与构建。 重点本篇将重点围绕：模块代码解耦、模块代码复用、模块代码如何提取与分离、模块的桥接，代理模式的运用做介绍 模块代码解耦我们先看">
<meta name="twitter:image" content="https://thumbnail10.baidupcs.com/thumbnail/ebb3202d19f648d078fcedcb660b97cb?fid=1117135785-250528-185447622760946&rt=pr&sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-vtjPX2Gu6SGGyAZXViGK9ZzEDu4%3d&expires=8h&chkbd=0&chkv=0&dp-logid=2028414447996841840&dp-callid=0&time=1553828400&size=c1920_u1080&quality=90&vuk=1117135785&ft=image&autopolicy=1">
<meta property="fb:admins" content="100000247608790">
  <!-- Swiftype -->
  <meta class="swiftype" name="title" data-type="string" content="模块中的高级写法">
  <!-- Baidu Analytics -->
  

  <script>
    var App = {
        root:'/public/'    
    };
  </script>
</head>

<body>
<div class="root">
  <div id="container" class="container">
    <header id="header" class="wrapper header">
  <div id="header-inner" class="inner header-inner">
    <h1 id="logo-wrap" class="logo-wrap">
      <a href="/public/index.html" id="logo" class="logo">前端代码规范</a>
    </h1>
    <nav id="main-nav" class="main-nav">
      <ul>
        <li class="main-nav-item"><a href="/public/docs/" class="main-nav-link">文档</a></li><li class="main-nav-item"><a href="/public/news/" class="main-nav-link">前端新闻</a></li>
        <li class="main-nav-item">
          <a href="https://github.com/" class="main-nav-link"><i class="fa fa-github-alt"></i></a>
        </li>
      </ul>
    </nav>
    <div id="lang-select-wrap" class="lang-select-wrap">
      <label id="lang-select-label" class="lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></label>
      <select id="lang-select" data-canonical="docs/guide/senior.html" class="lang-select">
        
          <option value="zh-cn" selected>简体中文</option>
        
          <option value="en">English</option>
        
      </select>
    </div>
    <div id="search-btn-wrap" class="main-nav-item search-btn-wrap">
      <a id="search-btn" class="main-nav-link st-search-launcher search-btn"><i class="fa fa-search"></i></a>
    </div>
    <a id="mobile-nav-toggle" class="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
    <a id="mobile-search-btn" class="st-search-launcher mobile-search-btn"></a>
  </div>
</header>

    <div id="content-wrap" class="content-wrap">
  <div id="content" class="wrapper">
    <div id="content-inner" class="content-inner">
      <article class="article-container" itemscope itemtype="http://schema.org/Article">
        <div class="article-inner">
          <div class="article">
            <div class="inner">
              <header class="article-header">
                <h1 class="article-title" itemprop="name">模块中的高级写法</h1>
                <a href="undefined" class="article-edit-link" title="改进本文（暂不开放，github还没建起来）"><i class="fa fa-pencil"></i></a>
              </header>
              <div class="article-content" itemprop="articleBody" data-swiftype-index="true">
                <p>在项目开发中，模块的写法，往往是不可能像上文<a href="/public/docs/guide/first_js.html">模块的js编写</a>那么简单，而且页面经常还包括二级页面（类似弹窗详情、修改之类）。如何做到更好的去管理模块功能之前的代码？我觉得这是门艺术，并不是我所规定的规范。所以，以下只是一中idea。可以借鉴。更多的是靠自己怎么取组织与构建。</p>
<h3 id="重点" class="article-heading"><a href="#重点" class="headerlink" title="重点"></a>重点<a class="article-anchor" href="#重点" aria-hidden="true"></a></h3><p>本篇将重点围绕：模块代码解耦、模块代码复用、模块代码如何提取与分离、模块的桥接，代理模式的运用做介绍</p>
<h3 id="模块代码解耦" class="article-heading"><a href="#模块代码解耦" class="headerlink" title="模块代码解耦"></a>模块代码解耦<a class="article-anchor" href="#模块代码解耦" aria-hidden="true"></a></h3><p>我们先看个具体的运用场景：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/ebb3202d19f648d078fcedcb660b97cb?fid=1117135785-250528-185447622760946&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-vtjPX2Gu6SGGyAZXViGK9ZzEDu4%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2028414447996841840&amp;dp-callid=0&amp;time=1553828400&amp;size=c1920_u1080&amp;quality=90&amp;vuk=1117135785&amp;ft=image&amp;autopolicy=1" alt><br>资质申请界面功能包含 新增申请功能，详情功能等。在没有触发这些操作之前，这部分的视图文件以及执行的逻辑处理脚本，就不应该加载，而是当用户操作这部分功能时，我们在从服务器获取这部分资源渲染与执行，同时做资源缓存，必要时再做释放。<br>我们从程序的角度来简单的实现这部分的功能。以<a href="/public/docs/guide/first_js.html">模块js编写</a>的模板为例<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params">require, exports, module</span>) </span>&#123;</span><br><span class="line">     <span class="keyword">var</span> MODULE_NAME = <span class="string">"qualificatApply"</span>;<span class="comment">//模块名称</span></span><br><span class="line"></span><br><span class="line">     <span class="function"><span class="keyword">function</span> <span class="title">Init</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">         <span class="keyword">var</span> defaults = &#123;</span><br><span class="line">             <span class="comment">//...Object</span></span><br><span class="line">         &#125;;</span><br><span class="line">         <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">         _this.MODULE_NAME = MODULE_NAME;</span><br><span class="line">         _this.defs = $.extend(&#123;&#125;, defaults, params);</span><br><span class="line">         _this.render().done(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">             _this.toolbarEvent()</span><br><span class="line">         &#125;)</span><br><span class="line">     &#125;</span><br><span class="line">     Init.prototype = $.extend(&#123;&#125;, <span class="keyword">new</span> Class(), &#123;</span><br><span class="line">         <span class="keyword">constructor</span>: Init,</span><br><span class="line">         /**</span><br><span class="line">          *初始化模块入口执行函数</span><br><span class="line">          */</span><br><span class="line">         render:function() &#123;</span><br><span class="line">             <span class="keyword">var</span> $dfd = $.Deferred()</span><br><span class="line">             <span class="comment">//渲染表格..此处先忽略渲染的脚本</span></span><br><span class="line">             <span class="keyword">return</span> $.dfd.resolve()<span class="comment">//假设表格渲染完，抛出resolve</span></span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="comment">/**</span></span><br><span class="line"><span class="comment">          *注册表格的新增与详情事件</span></span><br><span class="line"><span class="comment">          */</span></span><br><span class="line">        toolBarEvent:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            layui.table.on(<span class="string">'toolbar('</span>+MODULE_NAME+<span class="string">')'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">                 <span class="keyword">var</span> toolevent = obj.event;</span><br><span class="line">                 <span class="keyword">if</span> (toolevent == <span class="string">'add'</span>) &#123;</span><br><span class="line">                     <span class="built_in">require</span>(<span class="string">'./add'</span>).call(_this)</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br><span class="line">             <span class="comment">//表格操作事件注册</span></span><br><span class="line">             layui.table.on(<span class="string">'tool('</span>+MODULE_NAME+<span class="string">')'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">                 <span class="keyword">var</span> toolevent = obj.event;</span><br><span class="line">                 <span class="keyword">if</span> (toolevent == <span class="string">'info'</span>) &#123;</span><br><span class="line">                     <span class="keyword">var</span> Info = <span class="built_in">require</span>(<span class="string">'./info'</span>);</span><br><span class="line">                    <span class="keyword">new</span> Info()</span><br><span class="line">                 &#125;</span><br><span class="line">             &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">     &#125;)</span><br><span class="line">     <span class="keyword">return</span> Init;</span><br><span class="line"> &#125;)</span><br></pre></td></tr></table></figure></p>
<p>这里，我做了三个内容的操作</p>
<ul>
<li><ol>
<li>渲染表格</li>
</ol>
</li>
<li><ol start="2">
<li>注册表格的新增与详情操作</li>
</ol>
</li>
<li><ol start="3">
<li>加载对应操作的js文件</li>
</ol>
</li>
</ul>
<h4 id="渲染表格" class="article-heading"><a href="#渲染表格" class="headerlink" title="渲染表格"></a>渲染表格<a class="article-anchor" href="#渲染表格" aria-hidden="true"></a></h4><p>此处暂时先忽略渲染表格的具体内容，表格的渲染方式，可以查看layui文档，本项目中统一封装了表格渲染的模块，这里不做过多讲解，可以查看plugins=&gt;render_table.js模块。</p>
<p>这里的表格渲染函数，项目实现上抽离到父构造函数中做资源加载与统一管理执行 (在businessDealt目录底下有个index.js做公用函数渲染与资源加载) ，在所里这里先简单带过。后续章节在讲解</p>
<h4 id="注册表格事件" class="article-heading"><a href="#注册表格事件" class="headerlink" title="注册表格事件"></a>注册表格事件<a class="article-anchor" href="#注册表格事件" aria-hidden="true"></a></h4><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">toolBarEvent:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    layui.table.on(<span class="string">'toolbar('</span>+MODULE_NAME+<span class="string">')'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> toolevent = obj.event;</span><br><span class="line">        <span class="keyword">if</span> (toolevent == <span class="string">'add'</span>) &#123;<span class="comment">//新增操作事件</span></span><br><span class="line">            <span class="built_in">require</span>(<span class="string">'./add'</span>).call(_this)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//表格操作事件注册</span></span><br><span class="line">    layui.table.on(<span class="string">'tool('</span>+MODULE_NAME+<span class="string">')'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> toolevent = obj.event;</span><br><span class="line">        <span class="keyword">if</span> (toolevent == <span class="string">'info'</span>) &#123;<span class="comment">//详情事件</span></span><br><span class="line">            <span class="keyword">var</span> Info = <span class="built_in">require</span>(<span class="string">'./info'</span>);</span><br><span class="line">            <span class="keyword">new</span> Info()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>toolbarEvent 注册当前表格所需的事件，并在render函数（渲染表格）加载并执行完毕之后，在注册表格事件。</p>
<p>我们将事件触发所需执行的代码，抽离到新的模块中编写（add.js||info.js）。</p>
<p>可能你也发现，新增操作时，我们使用的都是sea.js的同步加载，但是写法并不一致。<br>因为，add.js模块的写法，是一个函数，我们只要新增的时候，执行新增的逻辑即可。而info.js是一个构造函数，我们需要在使用的时候，去实例化它（<font color="blue">这里的写法是为了后面做代理模式的讲解做铺垫，此章节不做太多解释</font>）。如果你对性能有所了解，你会察觉到，详情事件模块的写法，会重复实例化构造函数，造成内存不必要的开销，这里我们就需要在此处做一层代理。我们简单的做下改进（此处只针对info.js模块加载并执行的写法）<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">layui.table.on(<span class="string">'tool('</span>+MODULE_NAME+<span class="string">')'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">obj</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> toolevent = obj.event;</span><br><span class="line">    <span class="keyword">if</span> (toolevent == <span class="string">'info'</span>) &#123;<span class="comment">//详情事件</span></span><br><span class="line">        <span class="keyword">if</span>(_this.infoMod) &#123;</span><br><span class="line">            <span class="keyword">var</span> Info = <span class="built_in">require</span>(<span class="string">'./info'</span>);</span><br><span class="line">            _this.infoMod = <span class="keyword">new</span> Info()</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            _this.infoMod()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="模块代码复用" class="article-heading"><a href="#模块代码复用" class="headerlink" title="模块代码复用"></a>模块代码复用<a class="article-anchor" href="#模块代码复用" aria-hidden="true"></a></h3><p>前面我们提到渲染表格的具体写法，本项目一级页甚至二级、三级页都很多需要涉及到表格渲染，表格渲染的函数统一封装在table_render.js模块，由于每个项目的接口数据不尽相同，在此模块做统一的数据请求处理，以及修改请求数据与数据表格渲染所需要的参数配置。</p>
<p>业务办理模块的二级页都涉及到表格渲染，那么我们是否可以将表格渲染与表格涉及到的一些操作，统一封装起来，供每个二级页做加载呢？</p>
<p>我们在businessDealt底下建index.js。此模块将当前模块底下所有二级页的通用函数封装起来，例如：每个模块都涉及到页面表格渲染。</p>
<p>所以我们代码这样写：<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @author NYG</span></span><br><span class="line"><span class="comment"> * @class 业务办理模块的继承类，用于统一执行业务办理模块公用模块处理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params">require, exports, module</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> PTable = <span class="built_in">require</span>(<span class="string">'js/plugins/render_table'</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">Class</span>(<span class="params">params</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> defaults = &#123;&#125;;</span><br><span class="line">        <span class="keyword">this</span>.PTable = PTable;</span><br><span class="line">        <span class="keyword">this</span>.defs = $.extend(&#123;&#125;, defaults, params)</span><br><span class="line">    &#125;</span><br><span class="line">    Class.prototype = &#123;</span><br><span class="line">        <span class="keyword">constructor</span>: Class,</span><br><span class="line">        /**</span><br><span class="line">         *表格初始化渲染</span><br><span class="line">         * @returns</span><br><span class="line">         */</span><br><span class="line">        renderTable: function () &#123;</span><br><span class="line">            <span class="keyword">var</span> _this = <span class="keyword">this</span>,</span><br><span class="line">                defs = _this.defs;</span><br><span class="line">            <span class="keyword">var</span> dfd = <span class="keyword">new</span> $.Deferred();</span><br><span class="line">            PTable(&#123;</span><br><span class="line">                id: defs.id,</span><br><span class="line">                elem: defs.elem,</span><br><span class="line">                cols: defs.cols,</span><br><span class="line">                url: defs.url,</span><br><span class="line">                toolbar: defs.toolbar || <span class="string">''</span>,</span><br><span class="line">                cbk:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">                    <span class="keyword">return</span> dfd.resolve(<span class="built_in">arguments</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">return</span> dfd.promise()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Class;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>因为所有二级页都需要渲染数据表，所以都需要调用render_table.js模块，我们将之抽离到当前业务办理大模块的共用模块做加载（<font color="blue">此函数可以将之理解为vue中局部混入minxins使用</font>）;我们将表格的渲染统一封装在renderTable函数里面，供当前模块二级页调用，函数本身抛出一个promise对象，供回调使用。这里只是做简单的封装处理。具体看使用情况做修改。</p>
<h4 id="语法糖" class="article-heading"><a href="#语法糖" class="headerlink" title="语法糖"></a>语法糖<a class="article-anchor" href="#语法糖" aria-hidden="true"></a></h4><ul>
<li><ol>
<li>公用业务组件做分离，提取上层做封装，供使用模块做继承执行。</li>
</ol>
</li>
<li><ol start="2">
<li>Deferred函数，这是jquery里面的一种回调处理机制，在项目使用中会替代传统的参数回调。</li>
</ol>
</li>
<li><ol start="3">
<li>构造函数继承，混合继承</li>
</ol>
</li>
</ul>
<h3 id="模块代码提取与分离" class="article-heading"><a href="#模块代码提取与分离" class="headerlink" title="模块代码提取与分离"></a>模块代码提取与分离<a class="article-anchor" href="#模块代码提取与分离" aria-hidden="true"></a></h3><p>模块的代码的提取与分离是处理好项目中模块写法的一个重要手段，大致提取的原则：</p>
<h4 id="提取的规则" class="article-heading"><a href="#提取的规则" class="headerlink" title="提取的规则"></a>提取的规则<a class="article-anchor" href="#提取的规则" aria-hidden="true"></a></h4><blockquote>
<p>如果当前模块（业务办理）中，底下二级菜单都有涉及到的业务场景，例如renderTable,dialog等，将之渲染函数提取到当前模块js（假设我们这边定义为<font color="blue">subA模块</font>）代码中，供其他模块继承复用。<br>如果项目里面例如与<font color="blue">subA模块</font>属于同级别的模块任有复用代码，我们将之提取到顶级<font color="blue">假设为parent模块</font>，在SubA模块中做继承使用。这部分概念可能会有点抽象，我们以代码的方式举个例子。</p>
</blockquote>
<p><font color="red">（以下代码只做案例讲解，不涉及到真实的业务代码）</font><br>假设我们在common有个公用模块代码，Parent.js,代码为：<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ParentClass</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> defaults = &#123;&#125;</span><br><span class="line">    <span class="keyword">this</span>.defs = $.extend(&#123;&#125;,defaults,params)</span><br><span class="line">&#125;</span><br><span class="line">ParentClass.prototype = &#123;</span><br><span class="line">    <span class="keyword">constructor</span>:ParentClass,</span><br><span class="line">    renderTable:function() &#123;&#125;,</span><br><span class="line">    dialog:<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>业务办理模块的公用模块我们定义为Sub.js，代码为：</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Parent = <span class="built_in">require</span>(<span class="string">'Parent'</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sub</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> defaults = &#123;&#125;</span><br><span class="line">    Parent.call(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.defs = $.extend(&#123;&#125;,defaults,params)</span><br><span class="line">&#125;</span><br><span class="line">ParentClass.prototype =$.extend(&#123;&#125;,<span class="keyword">new</span> Parent,&#123;</span><br><span class="line">    <span class="keyword">constructor</span>:Sub,</span><br><span class="line">    //...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>Sub.js继承Parent模块。同时可以在当前模块中做数据自己模块的一些个性化函数扩展。</p>
<p>资质申请中的js模块，我们定义为child.js,代码为<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Sub = <span class="built_in">require</span>(<span class="string">'Sub'</span>)</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Child</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> defaults = &#123;&#125;</span><br><span class="line">    Sub.call(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">this</span>.defs = $.extend(&#123;&#125;,defaults,params)</span><br><span class="line">&#125;</span><br><span class="line">ParentClass.prototype =$.extend(&#123;&#125;,<span class="keyword">new</span> Parent,&#123;</span><br><span class="line">    <span class="keyword">constructor</span>:Child,</span><br><span class="line">    //...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>当我们在实例化Child模块时，我们需要执行renderTable函数，就可以这样使用<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> Child = <span class="built_in">require</span>(<span class="string">"child"</span>)</span><br><span class="line"><span class="keyword">var</span> child = <span class="keyword">new</span> Child();</span><br><span class="line">child.renderTable()</span><br></pre></td></tr></table></figure></p>
<p>公用函数的提取，遵循从<font color="blue">底部往上逐级提取</font>，不可在顶级的构造函数中滥定义没有高度复用的代码，如果只是当前模块中复用度比较高的，只要在当前模块提取即可，类似（Sub.js）</p>
<h4 id="模块的分离" class="article-heading"><a href="#模块的分离" class="headerlink" title="模块的分离"></a>模块的分离<a class="article-anchor" href="#模块的分离" aria-hidden="true"></a></h4><p>在一个页面中，模块的代码不仅仅只是我们打开所呈现出来的部分，往往还涉及到操作，例如增、删、改、详情之类的操作。那么，我们要做的事情，就是打开当前页面，我们只加载当前呈现出来的部分代码，关于操作部分的代码，我们只有等真正操作的时候，再去加载与渲染。</p>
<p>在当前系统（住建行政审批平台）中，很大部分的页面详情，在系统中都有可能复用到，以往的方式，我们只能将这部分的代码放置单独页面做，以iframe的方式渲染达到复用的效果。</p>
<p>但既然我们定义的是单页，作为有原则程序猿，我们坚持不用这种方式去做复用模块的加载。借用vue公用模块的思想，既然定义是公用，就不该与当前模块耦合性太高，我们将vue中的props以模块的参数作为实现，模块的执行逻辑也在本身模块加载的同时进行加载与执行（当然，我们不会将js与模板写在一起，我们会根据一定的规则，将他们关联起来）同时我们将打开复用模块的入口统一在一个模块(bradge.js)中做管理，（vue的实现也尽量将公用模块的入口，放置状态管理（store）中进行统一管理）<br>下面，我们看一下具体在项目中的实现。还是以业务办理=&gt;资质申请模块中的详情弹窗为例：<br><img src="https://thumbnail10.baidupcs.com/thumbnail/5479d87570eae060ce49d23bd5a6c61a?fid=1117135785-250528-1077374451345446&amp;rt=pr&amp;sign=FDTAER-DCb740ccc5511e5e8fedcff06b081203-DPM%2fjc337FdjLupcGLSVWhOtO%2f0%3d&amp;expires=8h&amp;chkbd=0&amp;chkv=0&amp;dp-logid=2074212011150021843&amp;dp-callid=0&amp;time=1553997600&amp;size=c1920_u1080&amp;quality=90&amp;vuk=1117135785&amp;ft=image&amp;autopolicy=1" alt></p>
<p>当前页面模块中，我们引入了她的上层index.js（这里可以理解为上文提到过的Sub.js）同时赋值给当前模块Class变量。<br>随之，我们在当前模块的构造函数中做继承<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Class.call(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure></p>
<p>以及原型扩展</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">Init.prototype = $.extend(&#123;&#125;,<span class="keyword">new</span> Class,&#123;<span class="comment">//...&#125;)</span></span><br></pre></td></tr></table></figure>
<p>重点在于，我们是如何将详情功能分离出去的，这里执行的_this.info()是在上层index.js中定义的，对于特殊处理，我们以参数的形式传递来控制info做不同详情的渲染加载。</p>
<p>info函数做了什么事情呢？<br>我们看项目中的代码<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *详情操作</span></span><br><span class="line"><span class="comment">* @param &#123;*&#125; params </span></span><br><span class="line"><span class="comment">* params.BgFn 参数用于控制具体模块执行时需要调用bridge里面的那个详情方法</span></span><br><span class="line"><span class="comment">* params.base_page 详情页面首次渲染的视图文件名</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">info: <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>,</span><br><span class="line">            defs = _this.defs;</span><br><span class="line">    <span class="keyword">var</span> $dfd = <span class="keyword">new</span> $.Deferred();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        bridge[params.BgFn](params.data)</span><br><span class="line">        $dfd.resolve()</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">        $dfd.reject(error)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> $dfd.promise()   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里你会发现，info函数又做了一层封装，参数用于控制从bradge中调用执行哪个函数，以及做参数传递使用。为什么要这么麻烦呢？其实并不然。</p>
<p>上文有提到过，由于本项目中，大部分详情，都有可能存在复用的情况。那么，我们就不能跟当前模块的业务做绑定太多。我只要知道当前模块中的详情，我需要调用哪个函数，传递什么参数过去就行。如上述代码中：<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">_this.info(&#123;</span><br><span class="line">    BgFn:<span class="string">'renderInfo_QlfcationsApply'</span>,</span><br><span class="line">    data:&#123;</span><br><span class="line">    BASE_PAGE:<span class="string">'info_csbj'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>我们只要关心，当前模块的详情，需要调用bridge中的哪个函数名称，以及初始化渲染的模块名称即可（<font color="green">因为从不同的入口进入同一个详情页，有可能初始化时候，加载显示的模板不同，所以需要用参数控制</font>）</p>
<p>这样极大的方便不是开发这个模块的开发者调用，同时也极大的方便自身维护这些公用的模块。</p>
<p>好了，在理解了上述的操作之后，你可能会发现，这些模块是如何渲染模板以及加载模板对应的脚本的呢？<a href="/public/docs/guide/senior.html#bridge中的函数">bridge中的函数</a></p>
<h4 id="bridge中的函数" class="article-heading"><a href="#bridge中的函数" class="headerlink" title="bridge中的函数"></a>bridge中的函数<a class="article-anchor" href="#bridge中的函数" aria-hidden="true"></a></h4><p>我们以上文info函数中参数 bgFn:’renderInfo_QlfcationsApply’为例：代码为<br>bridge.js<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *渲染资质申请详情弹窗模块</span></span><br><span class="line"><span class="comment">    *@param &#123;Object&#125; params</span></span><br><span class="line"><span class="comment">    *params.MODULE_NAME表示模块名称</span></span><br><span class="line"><span class="comment">    *params.id 模块请求数据的ID,</span></span><br><span class="line"><span class="comment">    *params.BASE_PAGE:当前详情页首次加载需要加载的模板名称</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">renderInfo_QlfcationsApply: <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>,</span><br><span class="line">        defs = _this.defs;</span><br><span class="line">    _this.showInfoDialog(&#123;</span><br><span class="line">        NAME: defs.QANAME,</span><br><span class="line">        COMP: defs.QACOMP,</span><br><span class="line">        BASE_PAGE: params.BASE_PAGE || <span class="string">'info_csbj'</span>,</span><br><span class="line">        URL: <span class="string">'./json/tree.json'</span></span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<p>NAME为当前模块的名称，在<a href="/public/docs/guide/first_js.html#模块js规范">模块js编写</a>中我们有提到，NAME即为当前模块的一个全局名称，用于事件句柄定义与模块路径的规则定义。<br>COMP为所需加载模板的路径<br>BASE_PAGE即为初次渲染加载的模板名称，这是对外暴露的参数，供调用的时候定义的。<br>URL为渲染详情左侧树的请求地址</p>
<p>我们再看_this.showInfoDialog做了哪些处理<br>bridge.js<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *@global 详情公用弹窗函数，不允许私自修改 </span></span><br><span class="line"><span class="comment">    *@author NYG</span></span><br><span class="line"><span class="comment">    * @param &#123;*&#125; params 参数包含模块的名称params.NAME 以及模块路径 params.COMP</span></span><br><span class="line"><span class="comment">    * params.BASE_PAGE 表示当前详情页如果有树形列表，需要加载的第一个模板名称</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">showInfoDialog: <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>,</span><br><span class="line">        defs = _this.defs;</span><br><span class="line">    ctrl.renderDialog(&#123;</span><br><span class="line">        id: params.NAME + <span class="string">'Info'</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .done(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 加载详情视图文件</span></span><br><span class="line">        layui.view(params.NAME + <span class="string">'Info'</span>)</span><br><span class="line">        .render(params.COMP + <span class="string">'info'</span>)</span><br><span class="line">        .done(<span class="function"><span class="keyword">function</span> (<span class="params">tpl</span>) </span>&#123;</span><br><span class="line">            <span class="comment">//渲染左侧菜单视图文件</span></span><br><span class="line">            <span class="keyword">if</span> (params.URL) &#123;</span><br><span class="line">                _this.renderInFoTree(&#123;</span><br><span class="line">                    NAME: params.NAME,</span><br><span class="line">                    COMP: params.COMP,</span><br><span class="line">                    PATH: params.COMP.substring(<span class="number">3</span>),</span><br><span class="line">                    URL: params.URL</span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="comment">//加载参数 BASE_PAGE视图文件 作为首次打开详情的页面</span></span><br><span class="line">                layui</span><br><span class="line">                    .view(params.NAME + <span class="string">'_cont'</span>)</span><br><span class="line">                    .render(params.COMP + <span class="string">'html/'</span> + params.BASE_PAGE)</span><br><span class="line">                    .done(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                        <span class="comment">//首次加载的模块脚本</span></span><br><span class="line">                        _this.loadModuleJs(&#123;</span><br><span class="line">                            PATH: params.COMP.substring(<span class="number">3</span>),</span><br><span class="line">                            alias: params.BASE_PAGE</span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">            layui.form.render();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;)</span><br><span class="line">    .fail(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<p>首先，我们调用了ctrl中的公用弹窗函数，其次，我们在他的异步回调函数中，做了渲染当前详情模板的加载：<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">layui.view(params.NAME + <span class="string">'Info'</span>)</span><br><span class="line">    .render(params.COMP + <span class="string">'info'</span>)</span><br><span class="line">    .done(<span class="function"><span class="keyword">function</span> (<span class="params">tpl</span>) </span>&#123;<span class="comment">//...&#125;)</span></span><br></pre></td></tr></table></figure></p>
<p>params.NAME + ‘Info’为模板的容器ID,params.COMP + ‘info’为容器加载的模板地址，.done()函数我们作为加载完基础模板之后做的异步回调处理</p>
<p>在.done()中，我们做了一件事：如果当前视图模板有树形菜单，根据params.URL判断是否需要渲染树，如果存在，调用<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">_this.renderInfoTree()</span><br></pre></td></tr></table></figure></p>
<p>同时加载参数中传递进来的模板名称对应模板，并加载与之对应的模板脚本。</p>
<p>renderInfoTree中，我们根据URL渲染树形菜单，同时注册点击事件<br><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *@global 详情公用创建树形菜单函数，不允许私自修改</span></span><br><span class="line"><span class="comment">    *@author NYG</span></span><br><span class="line"><span class="comment">    * @param &#123;*&#125; params 参数包含所创建树的模块所需加载的js路径，params.PATH</span></span><br><span class="line"><span class="comment">    * params.NAME 当前模块名称，用于创建树形菜单</span></span><br><span class="line"><span class="comment">    * params.URL 准备后续添加，用于传入请求接口</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">renderInFoTree: <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>,</span><br><span class="line">        defs = _this.defs;</span><br><span class="line">    <span class="keyword">new</span> MODULE_TREE(&#123;</span><br><span class="line">        renderDom: <span class="string">'#'</span> + params.NAME + <span class="string">'_tree'</span>,</span><br><span class="line">        url: params.URL,</span><br><span class="line">        click: <span class="function"><span class="keyword">function</span> (<span class="params">node</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">if</span> (!node.alias) <span class="keyword">return</span>;</span><br><span class="line">            <span class="comment">//加载对应模块与脚本</span></span><br><span class="line">            layui</span><br><span class="line">                .view(params.NAME + <span class="string">'_cont'</span>)</span><br><span class="line">                .render(params.COMP + <span class="string">'html/'</span> + node.alias)</span><br><span class="line">                .done(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                    _this.loadModuleJs(&#123;</span><br><span class="line">                        PATH: params.PATH,</span><br><span class="line">                        alias: node.alias</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></p>
<p>在点击事件中，我们根据当前点击的节点，获取到对应的数据，加载模板与执行加载模板js（<font color="green">_this.loadModuleJs()</font>）。</p>
<p>这样，我们就实现了一套完整的分离流程，同时保证所有复用的模块在bridge中做统一的管理与维护。在实际页面模块中，我们只需传递几个参数就能实现公用模块的调用。</p>
<h3 id="模块的依赖处理" class="article-heading"><a href="#模块的依赖处理" class="headerlink" title="模块的依赖处理"></a>模块的依赖处理<a class="article-anchor" href="#模块的依赖处理" aria-hidden="true"></a></h3><p>…待更新</p>
<h3 id="代理模式运用" class="article-heading"><a href="#代理模式运用" class="headerlink" title="代理模式运用"></a>代理模式运用<a class="article-anchor" href="#代理模式运用" aria-hidden="true"></a></h3><p>…待更新</p>

              </div>
              <footer class="article-footer">
                <time class="article-footer-updated" datetime="2019-03-31T03:11:37.497Z" itemprop="dateModified">上次更新：2019-03-31</time>
                <a href="/public/docs/guide/first_js.html" class="article-footer-prev" title="模块js编写"><i class="fa fa-chevron-left"></i><span>上一页</span></a><a href="/public/docs/issues.html" class="article-footer-next" title="常见问题"><span>下一页</span><i class="fa fa-chevron-right"></i></a>
              </footer>
              



            </div>
          </div>
          <aside class="article-toc" id="article-toc" role="navigation">
            <div id="article-toc-inner" class="article-toc-inner">
              <strong class="sidebar-title">目录</strong>
              <ul class="nav toc-nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#重点"><span class="nav-text">重点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模块代码解耦"><span class="nav-text">模块代码解耦</span></a><ul class="nav nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#渲染表格"><span class="nav-text">渲染表格</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#注册表格事件"><span class="nav-text">注册表格事件</span></a></li></ul></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模块代码复用"><span class="nav-text">模块代码复用</span></a><ul class="nav nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#语法糖"><span class="nav-text">语法糖</span></a></li></ul></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模块代码提取与分离"><span class="nav-text">模块代码提取与分离</span></a><ul class="nav nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#提取的规则"><span class="nav-text">提取的规则</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#模块的分离"><span class="nav-text">模块的分离</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bridge中的函数"><span class="nav-text">bridge中的函数</span></a></li></ul></li><li class="nav-item nav-level-3"><a class="nav-link" href="#模块的依赖处理"><span class="nav-text">模块的依赖处理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代理模式运用"><span class="nav-text">代理模式运用</span></a></li></ul>
              <a href="#" id="article-toc-top" class="article-toc-top">回到顶部</a>
            </div>
          </aside>
        </div>
      </article>
      <aside id="sidebar" role="navigation" class="sidebar">
  <div class="inner"><strong class="sidebar-title">开始使用</strong><a href="/public/docs/index.html" class="sidebar-link">概述</a><a href="/public/docs/common.html" class="sidebar-link">项目结构介绍</a><a href="/public/docs/guide/installation.html" class="sidebar-link">安装</a><a href="/public/docs/guide/first.html" class="sidebar-link">开始</a><a href="/public/docs/guide/first_js.html" class="sidebar-link">模块js编写</a><a href="/public/docs/guide/senior.html" class="sidebar-link current">模块的高级写法</a><a href="/public/docs/issues.html" class="sidebar-link">常见问题</a><strong class="sidebar-title">HTML 规范</strong><a href="/public/docs/html/code.html" class="sidebar-link">代码规范</a><a href="/public/docs/html/note.html" class="sidebar-link">文件模板规范</a><strong class="sidebar-title">JS 规范</strong><a href="/public/docs/js/language.html" class="sidebar-link">语言规范</a><a href="/public/docs/js/code.html" class="sidebar-link">模板规范</a><a href="/public/docs/js/start.html" class="sidebar-link">继承</a><a href="/public/docs/js/single.html" class="sidebar-link">单例使用</a><strong class="sidebar-title">插件规范</strong><a href="/public/docs/plugin/name.html" class="sidebar-link">插件命名规范</a><a href="/public/docs/plugin/templet.html" class="sidebar-link">插件模板规范</a></div> 
</aside>

    </div>
  </div>
</div>

    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2019 <a href="http://zespia.tw/" target="_blank">慧政通-NYG</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://twitter.com/" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a>
      <a href="https://github.com/" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>
  </div>
  <div id="mobile-nav-dimmer" class="mobile-nav-dimmer"></div>
  <nav id="mobile-nav" class="mobile-nav">
  <div id="mobile-nav-inner" class="mobile-nav-inner">
    <ul id="mobile-nav-list" class="mobile-nav-list">
      <li class="mobile-nav-item"><a href="/public/docs/" class="mobile-nav-link">文档</a></li><li class="mobile-nav-item"><a href="/public/news/" class="mobile-nav-link">前端新闻</a></li>
      <li class="mobile-nav-item">
        <a href="https://github.com/" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
      <strong class="mobile-nav-title">开始使用</strong><a href="/public/docs/index.html" class="mobile-nav-link">概述</a><a href="/public/docs/common.html" class="mobile-nav-link">项目结构介绍</a><a href="/public/docs/guide/installation.html" class="mobile-nav-link">安装</a><a href="/public/docs/guide/first.html" class="mobile-nav-link">开始</a><a href="/public/docs/guide/first_js.html" class="mobile-nav-link">模块js编写</a><a href="/public/docs/guide/senior.html" class="mobile-nav-link current">模块的高级写法</a><a href="/public/docs/issues.html" class="mobile-nav-link">常见问题</a><strong class="mobile-nav-title">HTML 规范</strong><a href="/public/docs/html/code.html" class="mobile-nav-link">代码规范</a><a href="/public/docs/html/note.html" class="mobile-nav-link">文件模板规范</a><strong class="mobile-nav-title">JS 规范</strong><a href="/public/docs/js/language.html" class="mobile-nav-link">语言规范</a><a href="/public/docs/js/code.html" class="mobile-nav-link">模板规范</a><a href="/public/docs/js/start.html" class="mobile-nav-link">继承</a><a href="/public/docs/js/single.html" class="mobile-nav-link">单例使用</a><strong class="mobile-nav-title">插件规范</strong><a href="/public/docs/plugin/name.html" class="mobile-nav-link">插件命名规范</a><a href="/public/docs/plugin/templet.html" class="mobile-nav-link">插件模板规范</a>
    
  </div>
  <div id="mobile-lang-select-wrap" class="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label" class="mobile-lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></span>
    <select id="mobile-lang-select" data-canonical="docs/guide/senior.html" class="mobile-lang-select">
      
        <option value="zh-cn" selected>简体中文</option>
      
        <option value="en">English</option>
      
    </select>
  </div>
</nav>

  <!-- Scripts -->
<!-- build:js js/dist.main.js -->
<script src="/public/js/jquery.js"></script>
<script src="/public/js/hammer.js"></script>
<script src="/public/assets/bootstrap/js/bootstrap.js"></script>
<script src="/public/js/lang_select.js"></script>
<script src="/public/js/toc.js"></script>
<script src="/public/js/mobile_nav.js"></script>
<!-- endbuild -->

<!-- Swiftype -->
<script type="text/javascript">
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','//s.swiftypecdn.com/install/v1/st.js','_st');

  _st('install','nxhXzi1rDss_9_P_6zBa');
</script>

</div>
</body>
</html>
